var smileyMap={},i;for(i in dropdownsmiliesnam)smileyMap[dropdownsmiliesnam[i]]=dropdownsmiliesdes[i];
MyBBEditor={insertText:function(d,e,a,c){var b="",f=d,g=e;e||(e=g="");a||(a="message_2");b=a.slice(0,-2);c||(c="source");"source"==c?rinsourceditor.insert_text(d,e,a):(f=CKEDITOR.instances[b].dataProcessor.toDataFormat(CKEDITOR.instances[b].dataProcessor.toHtml(f+g),{context:"body"}),rinsourceditor.insert_text(f,"",a));"undefined"!==typeof CKEDITOR&&CKEDITOR.instances&&(b||(b="message"),"wysiwyg"==CKEDITOR.instances[b].mode&&("source"==c?CKEDITOR.instances[b].insertHtml(CKEDITOR.plugins.bbcode.BBCodeToHtml(f+
g,b)):CKEDITOR.instances[b].insertHtml(d+e)));return!1}};
rinsourceditor=function(){return{init:function(){return!0},insert_text:function(d,e,a){var c;a=document.getElementById(a);if(!a)return!1;if(document.selection&&document.selection.createRange)a.focus(),c=document.selection.createRange(),c.text=d+c.text+e;else if(a.selectionStart||0===a.selectionStart){c=a.selectionStart;var b=a.selectionEnd,f=a.scrollTop;a.value=a.value.substring(0,c)+d+a.value.substring(c,b)+e+a.value.substring(b,a.value.length);"\x3d"===d.charAt(d.length-2)?a.selectionStart=c+d.length-
1:a.selectionStart=c===b?b+d.length:b+d.length+e.length;a.selectionEnd=a.selectionStart;a.scrollTop=f}else a.value+=d+e;a.focus()}}}();